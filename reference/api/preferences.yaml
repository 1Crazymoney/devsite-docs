paths:
  /checkout/preferences:
    post:
      tags:
        - $ref: '#/tags/qr-code/description'
        - $ref: '#/tags/link-de-pago/description'
      summary: 'Create a preference'
      description: 'Create a preference.'
      requestBody:
        properties:
          items:
            type: array
            description: Items information.
            items:
              type: object
              properties:
                id:
                  type: string
                  description: Item ID.
                title:
                  type: string
                  example: Dummy Title
                  description: Item title. It will be displayed in the payment process.
                description:
                  type: string
                  example: Dummy description
                  description: Item description.
                picture_url:
                  type: string
                  example: http://www.myapp.com/myimage.jpg
                  description: Item image URL.
                category_id:
                  type: string
                  example: cat123
                  description: Item category ID.
                quantity:
                  type: number
                  example: 1
                  description: Item quantity.
                currency_id:
                  type: string
                  example: U$
                  description: Currency ID. ISO_4217 code.
                unit_price:
                  type: number
                  example: 10.0
                  description: Unit price.
          payer:
            type: Object
            description: Buyer Information.
            properties:
              name:
                type: string
                description: Buyer name.
              surname:
                type: string
                description: Buyer last name.
              email:
                type: string
                description: Buyer e-mail address.
              phone:
                type: Object
                description: Buyer phone.
                properties:
                  area_code:
                    type: string
                    description: Area code.
                  number:
                    type: string
                    description: Number.
              identification:
                type: Object
                description: Personal identification.
                properties:
                  type:
                    type: string
                    description: Identification Type.
                  number:
                    type: string
                    description: Number.
              address:
                type: Object
                description: Buyer address.
                properties:
                  zip_code:
                    type: string
                    description: Zip code.
                  street_name:
                    type: string
                    description: Street name.
                  street_number:
                    type: number
                    description: Street number.
              date_created:
                type: Date(ISO_8601)
                description: Registration date.
          payment_methods:
            type: Object
            description: Set up payment methods to be excluded from the payment process.
            properties:
              excluded_payment_methods:
                type: array
                description: >-
                  Payment methods not allowed in payment process (except
                  account_money).
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Payment method ID.
              excluded_payment_types:
                type: array
                description: Payment types not allowed in payment process.
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Payment method data_type ID.
              default_payment_method_id:
                type: string
                description: Payment method to be preferred on the payments methods list.
              installments:
                type: number
                description: Maximum number of credit card installments to be accepted.
              default_installments:
                type: number
                description: Prefered number of credit card installments.
          shipments:
            type: Object
            description: Shipments information.
            properties:
              mode:
                type: string
                description: Shipment mode.
              local_pickup:
                type: boolean
                description: >-
                  The payer have the option to pick up the shipment in your
                  store (mode:me2 only).
              dimensions:
                type: string
                description: Dimensions of the shipment in cm x cm x cm, gr (mode:me2 only)
              default_shipping_method:
                type: number
                description: Select default shipping method in checkout (mode:me2 only).
              free_methods:
                type: array
                description: Offer a shipping method as free shipping (mode:me2 only).
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      description: Shipping method ID.
              cost:
                type: number
                description: Shipment cost (mode:custom only).
              free_shipping:
                type: boolean
                description: Free shipping for mode:custom.
              receiver_address:
                type: Object
                description: Shipping address.
                properties:
                  zip_code:
                    type: string
                    description: Zip code.
                  street_name:
                    type: string
                    description: Street name.
                  city_name:
                    type: string
                    description: City name.
                  state_name:
                    type: string
                    description: State name.
                  street_number:
                    type: number
                    description: Street number.
                  floor:
                    type: string
                    description: Floor.
                  apartment:
                    type: string
                    description: Apartment.
          back_urls:
            type: Object
            description: URLs to return to the sellers website.
            properties:
              success:
                type: string
                description: Approved payment URL.
              pending:
                type: string
                description: Pending or in process payment URL.
              failure:
                type: string
                description: Canceled payment URL.
          notification_url:
            type: string
            description: URL where you'd like to receive a payment notification.
          statement_descriptor:
            type: string
            description: 'How will look the payment in the card bill (e.g.: MERCADOPAGO).'
          additional_info:
            type: string
            description: Additional information.
          auto_return:
            type: string
            description: >-
              If specified, your buyers will be redirected back to your site
              immediately after completing the purchase.
          external_reference:
            type: string
            description: Reference you can synchronize with your payment system.
          expires:
            type: boolean
            description: Boolean value that determines if a preference expire.
          date_of_expiration:
            type: Date(ISO_8601)
            description: Expiration date of cash payment.
          expiration_date_from:
            type: Date(ISO_8601)
            description: Date since the preference will be active.
          expiration_date_to:
            type: Date(ISO_8601)
            description: Date when the preference will be expired.
          marketplace:
            type: string
            description: 'Origin of the payment. Default value: NONE'
          marketplace_fee:
            type: number
            description: >-
              Marketplace's fee charged by application owner. Default value: 0
              in local currency
          differential_pricing:
            type: Object
            description: Differential pricing configuration for this preference.
            properties:
              id:
                type: number
                description: Differential pricing ID.
          tracks:
            type: array
            description: >-
              Tracks to be executed during the users's interaction in the
              Checkout flow.
            items:
              type: object
              properties:
                type:
                  type: string
                  description: Track type. Specifies which tool the values belong to.
                values:
                  type: string
                  description: Configuration values according the track type.
      responses:
        '400':
          collector_does_not_comply_with_current_regulation:
            description: identity validation required.
          invalid_collector_id:
            description: collector_id invalid.
          invalid_sponsor_id:
            description: sponsor_id is not an active user.
          invalid_collector_email:
            description: collector is not collector_email owner
          invalid_operation_type:
            description: operation_type invalid.
          invalid_expiration_date_to:
            description: expiration_date_to invalid.
          invalid_date:
            description: invalid date of expiration.
          invalid_expiration_date_from:
            description: expiration_date_from invalid.
          invalid_items:
            description: unit_price invalid.
          invalid_back_urls:
            description: back_urls invalid. Wrong format
          invalid_payment_methods:
            description: installments invalid. Should be a number between 1 and 36.
          invalid_marketplace_fee:
            description: marketplace_fee must not be greater than total amount.
          invalid_id:
            description: preference_id not found.
          invalid_access_token:
            description: access denied
          invalid_shipments:
            description: invalid type (<type>) for field shipments.cost.
          invalid_binary_mode:
            description: binary_mode must be boolean.
  /checkout/preferences/search:
    get:
      tags:
        - $ref: '#/tags/qr-code/description'
        - $ref: '#/tags/link-de-pago/description'
      summary: 'Find a preference'
      description: 'Find a preference'
      parameters:
        - name: sponsor_id
          in: query
          description: The sponsor id
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: site_id
          in: query
          description: The site id
          schema:
            type: string
        - name: marketplace
          in: query
          description: The marketplace identifier
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
        - name: external_reference
          in: query
          description: The external reference
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    elements:
                      type: array
                      description: A list of preferences
                      items:
                        type: object
                        properties: 
                          client_id:
                            type: string
                            example: 6295877106812064
                            description: Application owner ID that use Mercado Libre API.
                          collector_id:
                            type: number
                            example: 202809963
                            description: Your Mercado Pago seller ID.
                          date_created:
                            type: Date(ISO_8601)
                            example: '2018-02-02T15:18:51.150-04:00'
                            description: Preference's creation date.
                          expiration_date_from:
                            type: Date(ISO_8601)
                            description: Date since the preference will be active.
                          expiration_date_to:
                            type: Date(ISO_8601)
                            description: Date when the preference will be expired.
                          expires:
                            type: boolean
                            description: Boolean value that determines if a preference expire.
                          date_of_expiration:
                            type: Date(ISO_8601)
                            description: Expiration date of cash payment.
                          external_reference:
                            type: string
                            description: Reference you can synchronize with your payment system.
                          items:
                            type: array
                            description: Items information.
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                  description: Item ID.
                                title:
                                  type: string
                                  example: Dummy Item
                                  description: >-
                                    Item title. It will be displayed in the payment
                                    process.
                                description:
                                  type: string
                                  description: Item description.
                                picture_url:
                                  type: string
                                  description: Item image URL.
                                category_id:
                                  type: string
                                  description: Item category ID.
                                quantity:
                                  type: number
                                  description: Item quantity.
                                currency_id:
                                  type: string
                                  description: Currency ID. ISO_4217 code.
                                unit_price:
                                  type: number
                                  description: Unit price.
                          marketplace:
                            type: string
                            description: 'Origin of the payment. Default value: NONE'
                          operation_type:
                            type: string
                            example: regular_payment
                            description: Operation data_type.
        '400':
          ds_search_query:
            description: invalid query.
        '401':
          invalid_token:
            description: invalid_token.
          invalid_caller_id:
            description: invalid caller_id
  /checkout/preferences/{id}:
    get:
      tags:
        - $ref: '#/tags/qr-code/description'
        - $ref: '#/tags/link-de-pago/description'
      summary: 'Get a preference'
      description: 'Get a preference'
      parameters:
        - name: id
          in: path
          description: The preference's ID
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  properties:
                    id:
                      type: string
                      example: 202809963-a2201f8d-11cb-443f-adf6-de5a42eed67d
                      description: Preference ID.
                    items:
                      type: array
                      description: Items information.
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                            example: 202809963-a2201f8d-11cb-443f-adf6-de5a42eed67d
                            description: Item ID.
                          title:
                            type: string
                            example: Dummy Title
                            description: Item title. It will be displayed in the payment process.
                          description:
                            type: string
                            example: Dummy description
                            description: Item description.
                          picture_url:
                            type: string
                            example: http://www.myapp.com/myimage.jpg
                            description: Item image URL.
                          category_id:
                            type: string
                            example: cat123
                            description: Item category ID.
                          quantity:
                            type: number
                            example: 1
                            description: Item quantity.
                          currency_id:
                            type: string
                            example: U$
                            description: Currency ID. ISO_4217 code.
                          unit_price:
                            type: number
                            example: 10.0
                            description: Unit price.
        '400':
          invalid_collector_id:
            description: collector_id invalid.
          invalid_sponsor_id:
            description: sponsor_id is not an active user.
          invalid_collector_email:
            description: collector is not collector_email owner.
          invalid_operation_type:
            description: operation_type invalid.
          invalid_expiration_date_to:
            description: expiration_date_to invalid.
          invalid_expiration_date_from:
            description: expiration_date_from invalid.
          invalid_items:
            description: unit_price invalid.
          invalid_payer:
            description: payer email invalid. Max length 150.
          invalid_back_urls:
            description: back_urls invalid. Wrong format.
          invalid_payment_methods:
            description: installments invalid. Should be a number between 1 and 36.
          invalid_marketplace_fee:
            description: marketplace_fee must not be greater than total amount.
          invalid_id:
            description: preference_id not found.
          invalid_access_token:
            description: access denied.
          invalid_shipments:
            description: Invalid total amount, with me2 it cannot be lesser than <limit>.
    put:
      tags:
        - $ref: '#/tags/qr-code/description'
        - $ref: '#/tags/link-de-pago/description'
      summary: 'Update a preference'
      description: 'Update a preference'
      parameters:
        - name: id
          in: path
          description: The preference's ID
          schema:
            type: string
      requestBody:
        properties:
          items:
            type: array
            description: Items information.
            items:
              type: object
              properties:
                id:
                  type: string
                  example: 202809963-a2201f8d-11cb-443f-adf6-de5a42eed67d
                  description: Item ID.
                title:
                  type: string
                  example: Dummy Title
                  description: Item title. It will be displayed in the payment process.
                description:
                  type: string
                  example: Dummy Description
                  description: Item description.
                picture_url:
                  type: string
                  example: http://www.myapp.com/myimage.jpg
                  description: Item image URL.
                category_id:
                  type: string
                  example: cat123
                  description: Item category ID.
                quantity:
                  type: number
                  example: 1
                  description: Item quantity.
                currency_id:
                  type: string
                  example: U$
                  description: Currency ID. ISO_4217 code.
                unit_price:
                  type: number
                  example: 10.0
                  description: Unit price.
          payer:
            type: Object
            description: Buyer Information.
            properties:
              name:
                type: string
                description: Buyer name.
              surname:
                type: string
                description: Buyer last name.
              email:
                type: string
                description: Buyer e-mail address.
              phone:
                type: Object
                description: Buyer phone.
                properties:
                  area_code:
                    type: string
                    description: Area code.
                  number:
                    type: string
                    description: Number.
              identification:
                type: Object
                description: Personal identification.
                properties:
                  type:
                    type: string
                    description: Identification Type.
                  number:
                    type: string
                    description: Number.
              address:
                type: Object
                description: Buyer address.
                properties:
                  zip_code:
                    type: string
                    description: Zip code.
                  street_name:
                    type: string
                    description: Street name.
                  street_number:
                    type: number
                    description: Street number.
              date_created:
                type: Date(ISO_8601)
                description: Registration date.
          payment_methods:
            type: Object
            description: Set up payment methods to be excluded from the payment process.
            properties:
              excluded_payment_methods:
                type: array
                description: >-
                  Payment methods not allowed in payment process (except
                  account_money).
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Payment method ID.
              excluded_payment_types:
                type: array
                description: Payment types not allowed in payment process.
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Payment method data_type ID.
              default_payment_method_id:
                type: string
                description: Payment method to be preferred on the payments methods list.
              installments:
                type: number
                description: Maximum number of credit card installments to be accepted.
              default_installments:
                type: number
                description: Prefered number of credit card installments.
          shipments:
            type: Object
            description: Shipments information.
            properties:
              mode:
                type: string
                description: Shipment mode.
              local_pickup:
                type: boolean
                description: >-
                  The payer have the option to pick up the shipment in your
                  store (mode:me2 only).
              dimensions:
                type: string
                description: Dimensions of the shipment in cm x cm x cm, gr (mode:me2 only)
              default_shipping_method:
                type: number
                description: Select default shipping method in checkout (mode:me2 only).
              free_methods:
                type: array
                description: Offer a shipping method as free shipping (mode:me2 only).
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      description: Shipping method ID.
              cost:
                type: number
                description: Shipment cost (mode:custom only).
              free_shipping:
                type: boolean
                description: Free shipping for mode:custom.
              receiver_address:
                type: Object
                description: Shipping address.
                properties:
                  zip_code:
                    type: string
                    description: Zip code.
                  street_name:
                    type: string
                    description: Street name.
                  city_name:
                    type: string
                    description: City name.
                  state_name:
                    type: string
                    description: State name.
                  street_number:
                    type: number
                    description: Street number.
                  floor:
                    type: string
                    description: Floor.
                  apartment:
                    type: string
                    description: Apartment.
          back_urls:
            type: Object
            description: URLs to return to the sellers website.
            properties:
              success:
                type: string
                description: Approved payment URL.
              pending:
                type: string
                description: Pending or in process payment URL.
              failure:
                type: string
                description: Canceled payment URL.
          notification_url:
            type: string
            description: URL where you'd like to receive a payment notification.
          additional_info:
            type: string
            description: Additional information.
          auto_return:
            type: string
            description: >-
              If specified, your buyers will be redirected back to your site
              immediately after completing the purchase.
          external_reference:
            type: string
            description: Reference you can synchronize with your payment system.
          expires:
            type: boolean
            description: Boolean value that determines if a preference expire.
          date_of_expiration:
            type: Date(ISO_8601)
            description: Expiration date of cash payment.
          expiration_date_from:
            type: Date(ISO_8601)
            description: Date since the preference will be active.
          expiration_date_to:
            type: Date(ISO_8601)
            description: Date when the preference will be expired.
          marketplace:
            type: string
            description: 'Origin of the payment. Default value: NONE'
          marketplace_fee:
            type: number
            description: >-
              Marketplace's fee charged by application owner. Default value: 0
              in local currency
          differential_pricing:
            type: Object
            description: Differential pricing configuration for this preference.
            properties:
              id:
                type: number
                description: Differential pricing ID.
      responses:
        '400':
          invalid_collector_id:
            description: collector_id invalid.
          invalid_sponsor_id:
            description: sponsor_id is not an active user.
          invalid_collector_email:
            description: collector is not collector_email owner
          invalid_operation_type:
            description: operation_type invalid.
          invalid_expiration_date_to:
            description: expiration_date_to invalid.
          invalid_date:
            description: invalid date of expiration.
          invalid_expiration_date_from:
            description: expiration_date_from invalid.
          invalid_items:
            description: unit_price invalid.
          invalid_back_urls:
            description: back_urls invalid. Wrong format
          invalid_payment_methods:
            description: installments invalid. Should be a number between 1 and 36.
          invalid_marketplace_fee:
            description: marketplace_fee must not be greater than total amount.
          invalid_id:
            description: preference_id not found.
          invalid_access_token:
            description: access denied
          invalid_shipments:
            description: invalid type (<type>) for field shipments.cost.
